tasks:
    _compile:
        pre: mkdir -p html;
        do: |
            for i in *.md; do                                                   \
                if [ -f $i ]; then                                              \
                    pandoc                                                      \
                        --toc                                                   \
                        --section-divs                                          \
                        --template=assets/template                              \
                        $i -o html/$$(basename $i .md).html                     \
                        --highlight-style=pygments;                             \
                    if [ "$(verbose)" != "" ]; then echo $$(basename $i .md).html written; fi; \
                fi;                                                             \
            done;
    docs:
        pre:
            - @_compile
            - mkdir -p html
            - sass --update --no-cache assets/screen.scss:html/screen.css
