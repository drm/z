# Build options
build:
    # Directory to build in
    dir:            ./build

# Environments
envs: ~

# Available default tasks. All tasks prefixed with '_' are considered 'private',
# i.e. they are not published in the command line help / list commands.
tasks:
    # Creates a build
    build:
        help: |
            Creates a build for the specified environment
        set:
            target_env: ?
            build.version: ?vcs.current
        pre:
            - @_vcs.export
        yield: build.dir

    # Deploys a build
    deploy:
        set:
            target_env: ?
            build.version: ?vcs.current
        help: |
            Deploys a build to the specified environment
        do: @_sync

    # Simulates a deploy
    simulate:
        help: |
            Simulates a deploy of a build to the specified environment
        set:
            target_env: ?
            build.version: ?vcs.current
        do: @_sync_simulate

