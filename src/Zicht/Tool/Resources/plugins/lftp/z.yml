tasks:
    # Synchronize the build dir to the remote environment
    _sync: |
        lftp
        set ssl:verify-certificate no
        open $(ftp.domain)
        user $(ftp.username) $(ftp.password)
        lcd $(tasks.build)
        mirror --reverse --delete $(sync.exclude_file ? sync.exludes) --verbose ./ $(env.root)
        bye

    # Synchronize the build dir to the remote environment
    _sync.simulate: | 
        lftp 
        open $(ftp.domain)
        user $(ftp.username) $(ftp.password)
        lcd $(tasks.build)
        mirror --dry-run --reverse --delete $(sync.exclude_file ? sync.exludes) --verbose ./ $(env.root)
        bye
