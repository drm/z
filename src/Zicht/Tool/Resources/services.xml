<?xml version="1.0" ?>

<container xmlns="http://symfony.com/schema/dic/services"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd">

    <services>
        <service id="versioning"
                factory-class="Zicht\Tool\Versioning\Factory"
                factory-method="get"
                class="Zicht\Tool\Versioning\VersioningInterface"
        >
            <argument>%versioning%</argument>
        </service>

        <service id="task_context" class="Zicht\Tool\Context">
            <argument type="service" id="service_container" />
            <argument>%options%</argument>
            <argument>%environments%</argument>
        </service>
        <service id="task_builder" class="Zicht\Tool\Task\Builder">
            <argument type="service" id="task_resolver" />
        </service>
        <service id="task_resolver" class="Zicht\Tool\Task\Resolver" />
        <service id="task_runner" class="Zicht\Tool\Task\Runner">
            <argument type="service" id="task_builder" />
            <argument type="service" id="task_context" />
            <argument>%tasks%</argument>
        </service>
    </services>
</container>
